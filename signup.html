<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Signup</title>
  <link rel = "stylesheet" href="signup.css">
	 <link rel="icon" href="favicon.png" type="image/x-icon">
</head>
<body>
  

<div class="container">
	<!-- code here -->
	<div class="card">
		<div class="card-image">	
			<h2 class="card-heading">
				 VerveIN
				<small>Let us create your account</small>
			</h2>
		</div>
		<form class="card-form"  method="post"   id="Mainform">
			<div class="input">
				<input type="text" class="input-field" id="fullname"  required/>
				<label class="input-label">Full name</label>
			</div>
						<div class="input">
				<input type="text" class="input-field"  id="email"   required/>
				<label class="input-label">Email</label>
			</div>
						<div class="input">
				<input type="password" class="input-field"   id="password"  required/>
				<label class="input-label">Password</label>
			</div>

     

			<div class="action">
				<button class="action-button" type="submit" >Get started</button>
			</div>
		</form>
		<div class="card-info">
			<p>Already Registered?<a href="login.html">Login here</a></p>
		</div>
	</div>
</div>

<script type="module">

  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
  import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";




  const firebaseConfig = {
      apiKey: "AIzaSyAttOBNym78OvLC-sB0QTSnzER5B13YgTg",
      authDomain: "verve-1883f.firebaseapp.com",
      databaseURL: "https://verve-1883f-default-rtdb.firebaseio.com",
      projectId: "verve-1883f",
      storageBucket: "verve-1883f.appspot.com",
      messagingSenderId: "88628857972",
      appId: "1:88628857972:web:8319d4700a9aa0ec9f5521"
  };


  const app = initializeApp(firebaseConfig);
  const db = getFirestore();
  const auth = getAuth(app);

  let fullname = document.getElementById('fullname');
  let email = document.getElementById('email');
  let password = document.getElementById('password');
 
  let Mainform = document.getElementById('Mainform');


  let RegisterUser = evt => {
evt.preventDefault();

createUserWithEmailAndPassword(auth, email.value, password.value)
  .then(async (credentials) => {
      var ref = doc(db, "UserAuthList", credentials.user.uid);
      await setDoc(ref, { 
          email: email.value,
          // Add additional user info as needed
          fullname: fullname.value,
          // Add more fields as needed
      });
      
      // Store user credentials in local storage
      localStorage.setItem("user-creds", JSON.stringify(credentials));

      // Store additional user info in local storage
      const userInfo = {
          email: email.value,
          fullname: fullname.value,
          
          // Add more fields as needed
      };
      localStorage.setItem("user-info", JSON.stringify(userInfo));

      
      window.location.replace("index.html");

  })
  .catch((error) => {
      alert(error.message);
      console.log(error.code);
      console.log(error.message);
  });
};

  Mainform.addEventListener('submit', RegisterUser);
  
</script>


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign in with Google Button</title>
    <!-- Include Google Sign-In JavaScript SDK -->
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <!-- Configure Google Sign-In -->
    <meta name="google-signin-client_id" content="YOUR_CLIENT_ID.apps.googleusercontent.com">
    <!-- Add custom styles for the button -->
    <style>
        /* Center the container horizontally and position it towards the top */
        .container {
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Adjust to align towards the top */
            height: 95vh; /* Full height of the viewport */
            padding-top: 20vh; /* Adjust the top padding to move the button towards the top */
        }
        .g-signin2 {
            color: white;
            border-radius: 4px;
            padding: 20px 40px; /* Adjust padding to increase button size */
            font-size: 20px; /* Adjust font size to increase button size */
            font-weight: bold;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.3s;
            size: 20px;
        }
    </style>
</head>
<body>
    <!-- Center the button horizontally and position it towards the top of the screen -->
    <div class="container">
        <!-- Customize the button using data- attributes provided by Google -->
        <div class="g-signin2" data-onsuccess="onSignIn" data-width="240" data-height="50" data-longtitle="true"></div>
    </div>

    <!-- JavaScript function to handle sign-in success -->
    <script>
        function onSignIn(googleUser) {
            var profile = googleUser.getBasicProfile();
            console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
            console.log('Name: ' + profile.getName());
            console.log('Image URL: ' + profile.getImageUrl());
            console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.
        }
    </script>
</body>
</html>

</body>
</html>
